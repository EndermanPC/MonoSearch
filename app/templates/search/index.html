<head>
  <title>Neutron Search</title>
  <link rel="stylesheet" href="/search.css">
  <script type="text/javascript">
    var Gemini = "{{ Gemini }}";
    var Wikipedia_Title = "{{ wikipedia_title }}";
    var Wikipedia_Image = "{{ wikipedia_image }}";
    var Wikipedia_Summary = "{{ wikipedia_summary }}";
    var Wikipedia_Link = "{{ wikipedia_link }}";

    document.addEventListener('DOMContentLoaded', function() {
      var url = new URL(window.location.href);

      url.searchParams.set('ai', Gemini);
      window.history.pushState({}, '', url.toString());

      url.searchParams.set('wt', Wikipedia_Title);
      window.history.pushState({}, '', url.toString());

      url.searchParams.set('wi', Wikipedia_Image);
      window.history.pushState({}, '', url.toString());

      url.searchParams.set('ws', Wikipedia_Summary);
      window.history.pushState({}, '', url.toString());

      url.searchParams.set('wl', Wikipedia_Link);
      window.history.pushState({}, '', url.toString());
    })
  </script>
</head>
<body>
  <div class="topnav">
    <a href="/">Search</a>
    <a href="/account">Account</a>
    <a href="/contribute">Contribute</a>
    <a href="https://lithicsoft.github.io/neutron">About</a>
  </div>
  <div class="minilogo">Neutron</div>

  <form action="/search" method="GET">
      <input type="search" value="{{ query }}" name="q" placeholder="Try to search something!" class="left"/>
  </form>

  <div class="filter">
    <div id="tagList">
      <input id="TextTag" type="button" class="tag" value="Text" data-type="Text">
      <input id="ImgTag" type="button" class="tag" value="Image" data-type="Image">
      <input id="VidTag" type="button" class="tag" value="Video" data-type="video">
    </div><br>
    Language:
    <div id="languageList">
      <select id="languageSelect" name="language">
        {% for language in languages %}
            <option value="{{ language }}" result-language="{{ language }}"> {{ language }} </option>
        {% endfor %}
      </select>     
    </div><br>
    Time:
    <div id="timeList">
      <select id="timeSelect" name="time">
        {% for tm in time %}
            <option value="{{ tm }}" result-time="{{ tm }}"> {{ tm }} </option>
        {% endfor %}
      </select>    
    </div>
  </div>

  <br><br><br>
  
  <div class="container">
    <div class="searchresult">
      {{ note }}
      
      {% for row in results %}
        <tr>
            <td>{{ row[1] }}</td><br>
            <td><a href="{{ row[1] }}">{{ row[2] }}</a></td><br>
            <td>{{ row[6] }}</td><br>
        </tr><br><br>
      {% endfor %}

      <br><br><a href="javascript:changePage({{ prev_page }})">Prev page</a>
      <br><a href="javascript:changePage({{ next_page }})">Next page</a>
    </div>

    <div class="extent">
      <div class="ai_display">
        <h3>Gemini</h3>
        <label>{{ Gemini }}</label>
      </div><br><br>
      <div class="wikipedia">
        <h3>{{ wikipedia_title }}</h3>
        <img class="wikipediaimage" src="{{ wikipedia_image }}"><br>
        <label>{{ wikipedia_summary }}</label> <label><a href="{{ wikipedia_link }}">Wikipedia</a></label>
      </div>
    </div>
  </div>

  <script src="/result.js"></script>
  <script src="/search/script.js"></script>
</body>